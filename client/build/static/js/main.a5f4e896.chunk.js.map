{"version":3,"sources":["Static/cover.png","context/authContext.js","components/HeaderContent.js","Static/logo.png","components/Layout.js","components/Home.js","components/Notification.js","components/Signup.js","components/Login.js","components/RewardCard.js","components/customer/index.js","components/business/TransactionForm.js","components/business/AddTransactionDialog.js","components/business/index.js","App.js","firebase.js","index.js"],"names":["AuthContext","createContext","Provider","AuthProvider","name","children","history","useNavigate","userInfo","JSON","parse","Cookies","get","useState","isLoggedIn","id","authState","setAuthState","value","setAuthInfo","cname","cvalue","exdays","console","log","set","stringify","expires","path","isAuthenticated","logout","remove","isBusiness","type","Header","setIsTxnModalVisible","authContext","useContext","window","location","href","split","menu","Item","onClick","danger","justify","align","src","alt","height","icon","PlusOutlined","style","color","marginRight","overlay","placement","backgroundColor","UserOutlined","borderRadius","Layout","Footer","Content","LayoutWrapper","className","Home","class","width","Cover","loading","openErrorNotification","description","notification","error","message","SignUp","password","email","phonenumber","signUp","signUpSet","setName","getId","fetch","headers","Accept","method","then","res","json","catch","err","registerUser","data","phone","body","a","firebase","auth","createUserWithEmailAndPassword","credentials","user","updateProfile","displayName","userData","fname","userType","requestOptions","handleTypeChange","e","target","for","autocomplete","required","onChange","checked","Login","loginData","setLoginData","setErrorMessage","signInWithEmailAndPassword","RewardCard","shopName","points","CustomerDashboard","rewardData","setRewardData","isLoading","setIsLoading","useEffect","finally","paddingTop","length","map","current_reward","shop_name","Option","Select","TransactionForm","form","customersList","formValues","setFormValues","currentCustomerObj","setCurrentCustomerObj","currentReward","setCurrentReward","customerId","setCustomerId","isRedeemed","setIsRedeemed","setFieldsValue","redeemAmount","redeemPercent","transactionAmount","onValuesChange","changedValues","allValues","currentCustomer","find","item","reward","undefined","layout","label","rules","placeholder","showSearch","allowClear","marginBottom","count","overflowCount","showZero","marginLeft","Group","disabled","finalAmount","hidden","AddTransactionDialog","isModalVisible","onAddTransaction","setIsModalVisible","Form","useForm","title","visible","onOk","validateFields","values","resetFields","okText","onCancel","confirmLoading","BusinessDashboard","searchText","setSearchText","customerData","setCustomerData","allcustomerData","setallCustomerData","allcustomerDataMap","setallCustomerDataMap","isTransactionLoading","setIsTransactionLoading","columns","dataIndex","key","render","val","defaultSortOrder","sorter","b","total_reward_earned","Date","toLocaleDateString","last_purchased_date","valueOf","loadData","Promise","all","reduce","acc","onSearch","filteredData","filter","trim","toLowerCase","includes","business_id","customer_id","redeem_amount","transaction_amount","open","Search","dataSource","AuthenticatedRoute","to","App","exact","element","padding","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","options","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a5f4e896.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/cover.80266bde.png\";","import React, { createContext, useState } from 'react';\r\nimport { useNavigate } from 'react-router';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst AuthContext = createContext();\r\nconst { Provider } = AuthContext;\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const history = useNavigate();\r\n\r\n  const getCookie = (name) => {\r\n    return Cookies.get(name);\r\n  };\r\n\r\n  const userInfo = JSON.parse(getCookie('user') || null);\r\n\r\n  const [authState, setAuthState] = useState(userInfo || { isLoggedIn: false, id: null });\r\n\r\n  const setAuthInfo = (cname, cvalue, exdays) => {\r\n    console.log('setting auth info', cvalue);\r\n    Cookies.set('user', JSON.stringify(cvalue), { expires: exdays, path: '/' });\r\n    setAuthState(cvalue);\r\n  };\r\n\r\n  const isAuthenticated = () => {\r\n    console.log('is authenticated', authState.isLoggedIn);\r\n    return authState.isLoggedIn;\r\n  };\r\n\r\n  const isBusiness = () => {\r\n    return authState.type === 'business';\r\n  };\r\n\r\n  const logout = () => {\r\n    Cookies.remove('user');\r\n    setAuthState({ isLoggedIn: false });\r\n    history('/');\r\n  };\r\n\r\n  return (\r\n    <Provider\r\n      value={{\r\n        authState,\r\n        setAuthInfo,\r\n        isAuthenticated,\r\n        logout,\r\n        isBusiness,\r\n      }}\r\n    >\r\n      {children}\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n","import { useContext, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, Row, Avatar, Menu, Dropdown } from 'antd';\r\nimport { UserOutlined, DownOutlined } from '@ant-design/icons';\r\nimport logo from '../Static/logo.png';\r\nimport { AuthContext } from '../context/authContext';\r\nimport './Header.css';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nexport default function Header({ setIsTxnModalVisible }) {\r\n  const authContext = useContext(AuthContext);\r\n  const url = window.location.href;\r\n  const type = url.split('/')[3];\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => authContext.logout()} danger>Logout</Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Row justify=\"space-between\" align=\"middle\">\r\n      <a href=\"/\">\r\n        <img src={logo} alt=\"logo\" height=\"40\"></img>\r\n      </a>\r\n      <div>\r\n        {type === 'business' && (\r\n          <Button\r\n            type=\"link\"\r\n            icon={<PlusOutlined />}\r\n            style={{ color: '#51CC71', marginRight: '30px' }}\r\n            onClick={() => setIsTxnModalVisible(true)}\r\n          >\r\n            Add New Transaction\r\n          </Button>\r\n        )}\r\n\r\n        {!authContext.isAuthenticated() ? (\r\n          <a href=\"/signup\">\r\n            <Button style={{ backgroundColor: '#51CC71', borderRadius: '5px' }} type=\"primary\">\r\n              Sign Up\r\n            </Button>\r\n          </a>\r\n        ) : (\r\n          <Dropdown overlay={menu} placement=\"bottomLeft\">\r\n            <Avatar\r\n              style={{ backgroundColor: '#00ff80' }}\r\n              icon={<UserOutlined />}\r\n            />\r\n          </Dropdown>\r\n        )}\r\n      </div>\r\n    </Row>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAABCCAYAAABtoovRAAAAAXNSR0IArs4c6QAABC10RVh0bXhmaWxlACUzQ214ZmlsZSUyMGhvc3QlM0QlMjJhcHAuZGlhZ3JhbXMubmV0JTIyJTIwbW9kaWZpZWQlM0QlMjIyMDIxLTEyLTAyVDIwJTNBMzklM0EyNC43MzRaJTIyJTIwYWdlbnQlM0QlMjI1LjAlMjAoV2luZG93cyUyME5UJTIwMTAuMCUzQiUyMFdpbjY0JTNCJTIweDY0KSUyMEFwcGxlV2ViS2l0JTJGNTM3LjM2JTIwKEtIVE1MJTJDJTIwbGlrZSUyMEdlY2tvKSUyMENocm9tZSUyRjk2LjAuNDY2NC40NSUyMFNhZmFyaSUyRjUzNy4zNiUyMiUyMGV0YWclM0QlMjI1Q1N1a09MRnJTWEF0V1RDZmJSeiUyMiUyMHZlcnNpb24lM0QlMjIxMy4zLjYlMjIlMjB0eXBlJTNEJTIyZGV2aWNlJTIyJTNFJTNDZGlhZ3JhbSUyMGlkJTNEJTIyN0kzZzJtV0JPczQ1b1VoUlFJcDMlMjIlMjBuYW1lJTNEJTIyUGFnZS0xJTIyJTNFalpSWmI1d3dFSUIlMkZEWSUyQkpPQUxaMTBDVzlxWEtzVzN5YkdFRGxteUdHQlBZJTJGdnFPbHpFRXJTSlZRc3Y0bTRPNXZFRlM2UG1IWVgzN0M3aFFRUnp5T1VnZWd6aSUyQlA4VDQ2OEI1QVhkSnRvREdTTDZnYUFNbiUyQlZjUURJbU9rb3RoWjJnQmxKWDlIbGJRZGFLeU84YU1nV2x2Vm9QYWY3Vm5qYmdDcDRxcGElMkZvdXVXMFhla2pEamY4VXNtbjlsNk9RTkpwNVl3SkR5emhNT3lSbVcwSm5LY1VDZEEzR01oYWt4OVphViUyQkJERUpmNDFNN290Z0ZvbEdDOUhHNHIwSWlyQVUzS21tbXBYSGMzZnd5ZUhJT2tNQUIya2ZSY0NPVUc0NXUlMkJaRkIlMkJvMTJyTnFLeiUyRiUyQk9RaHklMkIxSEo4JTJCM3VBbGZzM2E1ejhIZUx5aEtKOU1qZFROSU00VXhzdGRRYTRsOWt4OXpqNUc4SXFiNGJJRldIdVlwajB1VXI3cFVXcmMlMkIxVk16SER3OGFoSFhrc05YNlBIRmp1TnZM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\"","import React from 'react';\r\nimport { Layout } from 'antd';\r\nimport HeaderContent from './HeaderContent';\r\nimport './Layout.css';\r\n\r\nconst { Header, Footer, Content } = Layout;\r\n\r\nconst LayoutWrapper = ({ children, setIsTxnModalVisible }) => {\r\n  return (\r\n    <Layout>\r\n      <Header className=\"header-sticky\">\r\n        <HeaderContent setIsTxnModalVisible={setIsTxnModalVisible} />\r\n      </Header>\r\n      <Content className=\"content\">{children}</Content>\r\n      <Footer className=\"footer\">&copy; 2021 Rewardo</Footer>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default LayoutWrapper;\r\n","import React, { useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Cover from '../Static/cover.png';\r\nimport './Home.css';\r\nimport LayoutWrapper from './Layout';\r\nimport { AuthContext } from '../context/authContext';\r\n\r\nexport default function Home() {\r\n  const history = useNavigate();\r\n  const authContext = useContext(AuthContext);\r\n  return (\r\n    <LayoutWrapper>\r\n      <div className=\"about-parent-container\">\r\n        <div className=\"parent-container\">\r\n          <div className=\"left-container\">\r\n            {!authContext.isAuthenticated() ? (\r\n              <>\r\n                <div className=\"about-container\">\r\n                  Matching customers <br />\r\n                  with great business.\r\n                </div>\r\n                <div className=\"login-signup-container\">\r\n                  <div className=\"login-container\">\r\n                    <h3 class=\"login-heading\">\r\n                      <span class=\"login-heading-text\">For Business</span>\r\n                    </h3>\r\n                    <p class=\"about-business\">\r\n                      <span>\r\n                        Login to create rewards, earn trust and grow your business with us.\r\n                      </span>\r\n                    </p>\r\n                    <div\r\n                      className=\"login-button\"\r\n                      onClick={() => {\r\n                        history('/business/login');\r\n                      }}\r\n                    >\r\n                      Login\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"signup-container\">\r\n                    <h3 class=\"login-heading\">\r\n                      <span class=\"login-heading-text\">For Customers</span>\r\n                    </h3>\r\n                    <p class=\"about-customer\">\r\n                      <span>\r\n                        Login to get discounts on your favourite products from your favourite shops.\r\n                      </span>\r\n                    </p>\r\n                    <div\r\n                      className=\"login-button\"\r\n                      onClick={() => {\r\n                        history('/customer/login');\r\n                      }}\r\n                    >\r\n                      Login\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div className=\"about-container secondary\">\r\n                  Rewardo rewards you with vouchers, cashbacks, reward points and a lot more just by\r\n                  shopping with our enabled partners! We let businesses offer rewards based on the\r\n                  amount purchased by you from them.\r\n                  <br />\r\n                  You shop more, you earn more!\r\n                  <br />\r\n                  Businesses can offer from a mere 1% to upto 50% per order. Yes you heard it right!\r\n                  Our AI model will offer you a more personalised reward, so you can have a treat on\r\n                  us on your favourite snack and sweets.\r\n                  <br />\r\n                  You shop more, you get more!\r\n                  <br />\r\n                  And we saved the best for the last. Our services are absolutely free! We won't\r\n                  charge you anything in the future if you promise us never to leave our Rewardo\r\n                  family.\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"right-container\">\r\n            {!authContext.isAuthenticated() ? (\r\n              <img\r\n                width=\"520\"\r\n                src=\"https://thevault.exchange/resources/wp-content/uploads/2021/03/74-743103_listening-to-customers-png-happy-customer-png-transparent.png\"\r\n                className=\"custom-logo\"\r\n                alt=\"Logo\"\r\n                loading=\"lazy\"\r\n              />\r\n            ) : (\r\n              <img\r\n                width=\"520\"\r\n                height=\"600px\"\r\n                src={Cover}\r\n                className=\"custom-logo\"\r\n                alt=\"Logo\"\r\n                loading=\"lazy\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </LayoutWrapper>\r\n  );\r\n}\r\n","import { Button, notification } from 'antd';\r\n\r\nexport const openErrorNotification = (description) => {\r\n  notification.error({\r\n    message: 'Error',\r\n    description: description,\r\n  });\r\n};\r\n\r\nexport const openSuccessNotification = (description) => {\r\n  notification.open({\r\n    message: 'Success',\r\n    description: description,\r\n  });\r\n};\r\n","import { useState, useContext } from 'react';\r\nimport firebase from 'firebase/compat';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../context/authContext';\r\nimport { openErrorNotification } from './Notification';\r\nimport './Signup.css';\r\n\r\nexport default function SignUp() {\r\n  const history = useNavigate();\r\n  const [signUp, signUpSet] = useState({\r\n    name: '',\r\n    password: '',\r\n    email: '',\r\n    type: 'Business',\r\n    phonenumber: '',\r\n  });\r\n  const [name, setName] = useState('Name');\r\n  const authContext = useContext(AuthContext);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  function handleEmailChange(e) {\r\n    signUpSet({ ...signUp, email: e.target.value });\r\n  }\r\n  function handlePasswordChange(e) {\r\n    signUpSet({ ...signUp, password: e.target.value });\r\n  }\r\n  function getId() {\r\n    return fetch(`/api/id?email=${signUp.email}`, {\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      method: 'GET',\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((id) => {\r\n        return id;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function registerUser() {\r\n    const data = {\r\n      name: signUp.name,\r\n      email: signUp.email,\r\n      type: signUp.type,\r\n      phone: signUp.phonenumber,\r\n    };\r\n    return fetch('/api/register', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((res) => {\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  async function handleSubmitClick() {\r\n    try {\r\n      const credentials = await firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(signUp.email, signUp.password);\r\n      await credentials.user?.updateProfile({ displayName: `${signUp.name}` });\r\n      let userData = {\r\n        name: signUp.fname,\r\n        email: signUp.email,\r\n        password: signUp.password,\r\n        userType: signUp.type,\r\n      };\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(userData),\r\n      };\r\n      await fetch('/api/add_user', requestOptions);\r\n      await registerUser();\r\n      const id = await getId();\r\n      authContext.setAuthInfo(signUp.email, { isLoggedIn: true, type: signUp.type, id: id }, 1);\r\n\r\n      if (signUp.type === 'Customer') {\r\n        history('/customer/dashboard');\r\n      } else {\r\n        history('/business/dashboard');\r\n      }\r\n    } catch (error) {\r\n      openErrorNotification(error.message);\r\n    }\r\n  }\r\n  function handleNameChange(e) {\r\n    signUpSet({ ...signUp, name: e.target.value });\r\n  }\r\n  function handleTypeChange(e) {\r\n    console.log(e.target.value);\r\n    if (e.target.value === 'Customer') {\r\n      setName('Name');\r\n    } else {\r\n      setName('Shop Name');\r\n    }\r\n    signUpSet({ ...signUp, type: e.target.value });\r\n  }\r\n  function handleBackClick() {\r\n    history(-1);\r\n  }\r\n  function handlePhonenumberChange(e) {\r\n    signUpSet({ ...signUp, phonenumber: e.target.value });\r\n  }\r\n  return (\r\n    <div className=\"signup-parent-container\">\r\n      <div className=\"signup-parent\">\r\n        <div className=\"backIcon\" onClick={handleBackClick}>\r\n          <img\r\n            height=\"40px\"\r\n            width=\"40px\"\r\n            src=\"https://static.thenounproject.com/png/344330-200.png\"\r\n          />\r\n        </div>\r\n        <div id=\"signup-card\">\r\n          <div id=\"card-content\">\r\n            <div id=\"card-title\">\r\n              <h2>SIGN UP</h2>\r\n              <div class=\"underline-title\"></div>\r\n            </div>\r\n            <form method=\"post\" class=\"form\">\r\n              <label className=\"user-mail\" for=\"user-email\">\r\n                {`${name}`}\r\n              </label>\r\n              <input\r\n                id=\"user-email\"\r\n                className=\"form-content\"\r\n                type=\"name\"\r\n                name=\"name\"\r\n                autocomplete=\"on\"\r\n                required\r\n                onChange={handleNameChange}\r\n              />\r\n              <div class=\"form-border\"></div>\r\n              <label className=\"user-mail\" for=\"user-email\">\r\n                &nbsp;Email\r\n              </label>\r\n              <input\r\n                id=\"user-email\"\r\n                className=\"form-content\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autocomplete=\"on\"\r\n                required\r\n                onChange={handleEmailChange}\r\n              />\r\n              <div class=\"form-border\"></div>\r\n              <label className=\"user-password\" for=\"user-password\">\r\n                &nbsp;Password\r\n              </label>\r\n              <input\r\n                id=\"user-password\"\r\n                class=\"form-content\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                required\r\n                onChange={handlePasswordChange}\r\n              />\r\n              <div class=\"form-border\"></div>\r\n              <label className=\"user-phonenumber\" for=\"user-phonenumber\">\r\n                &nbsp;Phone Number\r\n              </label>\r\n              <input\r\n                id=\"user-phonenumber\"\r\n                class=\"form-content\"\r\n                type=\"mumber\"\r\n                name=\"phonenumber\"\r\n                required\r\n                onChange={handlePhonenumberChange}\r\n              />\r\n              <div class=\"form-border\"></div>\r\n              {/* <a id=\"forgot-pass-parent\" href=\"#\">\r\n                        <legend id=\"forgot-pass\">Forgot password?</legend>\r\n                    </a> */}\r\n              <div className=\"type-container\">\r\n                <input\r\n                  className=\"radio-first\"\r\n                  type=\"radio\"\r\n                  value=\"Business\"\r\n                  name=\"gender\"\r\n                  checked=\"checked\"\r\n                  onChange={handleTypeChange}\r\n                />{' '}\r\n                Business\r\n                <input\r\n                  className=\"radio-second\"\r\n                  type=\"radio\"\r\n                  value=\"Customer\"\r\n                  name=\"gender\"\r\n                  onChange={handleTypeChange}\r\n                />{' '}\r\n                Customer\r\n              </div>\r\n              <div id=\"signup-submit-btn\" onClick={handleSubmitClick}>\r\n                Submit\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import firebase from 'firebase/compat';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useState, useContext } from 'react';\r\nimport { AuthContext } from '../context/authContext';\r\nimport './Login.css';\r\n\r\nexport default function Login() {\r\n  const [loginData, setLoginData] = useState({ email: '', password: '' });\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const url = window.location.href;\r\n  const type = url.split('/')[3];\r\n  const history = useNavigate();\r\n  const authContext = useContext(AuthContext);\r\n\r\n  function handleEmailChange(e) {\r\n    setLoginData({ ...loginData, email: e.target.value });\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setLoginData({ ...loginData, password: e.target.value });\r\n  }\r\n      function getId() {\r\n        return fetch(`/api/id?email=${loginData.email}`,\r\n            {\r\n                headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n                },\r\n                method: \"GET\",\r\n            })\r\n            .then(res => {\r\n              return res.json();\r\n            })\r\n            .then(id => {\r\n              return id;\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n  async function handleSubmitClick() {\r\n    try {\r\n      await firebase.auth().signInWithEmailAndPassword(loginData.email, loginData.password);\r\n      const id = await getId();\r\n      authContext.setAuthInfo(loginData.email, { isLoggedIn: true, type: type, id: id }, 1);\r\n      if (type === 'customer') {\r\n        history('/customer/dashboard');\r\n      } else {\r\n        history('/business/dashboard');\r\n      }\r\n    } catch (error) {\r\n      return setErrorMessage(error.message);\r\n    }\r\n  }\r\n  function handleBackClick() {\r\n    history(-1);\r\n  }\r\n  return (\r\n    <div className=\"login-parent-container\">\r\n      <div className=\"login-parent\">\r\n        <div className=\"backIcon\" onClick={handleBackClick}>\r\n          <img\r\n            height=\"40px\"\r\n            width=\"40px\"\r\n            src=\"https://static.thenounproject.com/png/344330-200.png\"\r\n          />\r\n        </div>\r\n        <div id=\"card\">\r\n          <div id=\"card-content\">\r\n            <div id=\"card-title\">\r\n              <h2>LOGIN</h2>\r\n              <div class=\"underline-title\"></div>\r\n            </div>\r\n            <form method=\"post\" class=\"form\">\r\n              <label className=\"user-mail\" for=\"user-email\">\r\n                &nbsp;Email\r\n              </label>\r\n              <input\r\n                id=\"user-email\"\r\n                className=\"form-content\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autocomplete=\"on\"\r\n                required\r\n                onChange={handleEmailChange}\r\n              />\r\n              <div class=\"form-border\"></div>\r\n              <label className=\"user-password\" for=\"user-password\">\r\n                &nbsp;Password\r\n              </label>\r\n              <input\r\n                id=\"user-password\"\r\n                class=\"form-content\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                required\r\n                onChange={handlePasswordChange}\r\n              />\r\n              <div class=\"form-border\"></div>\r\n              {/* <a id=\"forgot-pass-parent\" href=\"#\">\r\n                        <legend id=\"forgot-pass\">Forgot password?</legend>\r\n                    </a> */}\r\n              <div id=\"submit-btn\" onClick={handleSubmitClick}>\r\n                Submit\r\n              </div>\r\n              <p\r\n                id=\"signup\"\r\n                onClick={() => {\r\n                  history('/signup');\r\n                }}\r\n              >\r\n                Don't have account yet?\r\n              </p>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import './RewardCard.css';\r\nconst RewardCard = ({ shopName, points }) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card__title\">{points || 0}</div>\r\n      <div className=\"card__subtitle\">Reward Points</div>\r\n      <div className=\"card__description\">{shopName}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RewardCard;\r\n","import { useEffect, useState, useContext } from 'react';\r\nimport { Row, Spin } from 'antd';\r\nimport { AuthContext } from '../../context/authContext';\r\nimport 'antd/dist/antd.css';\r\nimport LayoutWrapper from '../Layout';\r\nimport './index.css';\r\nimport RewardCard from '../RewardCard';\r\n\r\nexport default function CustomerDashboard() {\r\n  const authContext = useContext(AuthContext);\r\n  const id = authContext?.authState?.id;\r\n  const [rewardData, setRewardData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  function getReward() {\r\n    setIsLoading(true);\r\n    fetch(`/api/customer_rewards?customer_id=${id}`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      method: 'GET',\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setRewardData(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n  useEffect(() => {\r\n    getReward();\r\n  }, []);\r\n  if (isLoading) {\r\n    return (\r\n      <Row style={{ paddingTop: '200px' }} justify=\"center\">\r\n        <Spin />\r\n      </Row>\r\n    );\r\n  }\r\n  return (\r\n    <LayoutWrapper>\r\n      <div className=\"customer-dashboard-parent\">\r\n        <div className=\"customer-parent-children\">\r\n          <Row justify=\"center\">\r\n            {rewardData?.length ? (\r\n              rewardData.map(({ current_reward, shop_name }) => (\r\n                <RewardCard points={current_reward} shopName={shop_name} />\r\n              ))\r\n            ) : (\r\n              <RewardCard points={0} shopName={'No reward points collected'} />\r\n            )}\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    </LayoutWrapper>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Select,\r\n  DatePicker,\r\n  InputNumber,\r\n  Checkbox,\r\n  Radio,\r\n  Alert,\r\n  Badge,\r\n  Row,\r\n  message,\r\n} from 'antd';\r\nconst { Option } = Select;\r\n\r\nconst TransactionForm = ({ form, customersList = [] }) => {\r\n  const [formValues, setFormValues] = useState({});\r\n  const [currentCustomerObj, setCurrentCustomerObj] = useState(null);\r\n  const [currentReward, setCurrentReward] = useState(0);\r\n  const [customerId, setCustomerId] = useState(null);\r\n  const [isRedeemed, setIsRedeemed] = useState(false);\r\n\r\n  const getCustomerByPhone = (phone) => {\r\n    return customersList?.find((item) => item.phone === phone);\r\n  };\r\n  function handleChange(changedValues, allValues) {\r\n    console.log(changedValues);\r\n    // customer change\r\n    if (changedValues.customerId) {\r\n      const currentCustomer = getCustomerByPhone(changedValues.customerId);\r\n      setCurrentCustomerObj(currentCustomer);\r\n      setCurrentReward(currentCustomer.reward || 0);\r\n      setCustomerId(currentCustomer?.id);\r\n    }\r\n    // transaction change\r\n    if (changedValues.transactionAmount !== undefined) {\r\n      setCurrentReward(currentCustomerObj.reward || 0);\r\n      setIsRedeemed(false);\r\n    }\r\n    setFormValues(allValues);\r\n  }\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue({\r\n      ...formValues,\r\n      id: customerId,\r\n      redeemAmount: 0,\r\n      redeemPercent: 0,\r\n      transactionAmount: 0,\r\n    });\r\n  }, [customerId]);\r\n\r\n  const onUtiliseRewards = () => {\r\n    const { transactionAmount, redeemPercent } = formValues;\r\n\r\n    if (redeemPercent && !isRedeemed) {\r\n      const redeemAmount = (redeemPercent / 100) * currentReward;\r\n      const finalAmount = transactionAmount - redeemAmount;\r\n      if (transactionAmount < redeemAmount) {\r\n        message.error('Sorry! Transaction amount should be greater than the amount to be redeemed');\r\n        return;\r\n      }\r\n      form.setFieldsValue({\r\n        ...formValues,\r\n        transactionAmount: finalAmount,\r\n        redeemAmount: redeemAmount,\r\n        id: customerId,\r\n      });\r\n      setIsRedeemed(true);\r\n      setCurrentReward(currentReward - redeemAmount);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onValuesChange={handleChange} layout={'vertical'} form={form} name=\"transaction\">\r\n      <Form.Item name=\"customerId\" label=\"Customer ID\" rules={[{ required: true }]}>\r\n        <Select placeholder=\"Select a customer\" showSearch allowClear style={{ width: '300px' }}>\r\n          {customersList.map((item) => (\r\n            <Option value={item.phone}>{item.phone}</Option>\r\n          ))}\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item label=\"Transaction Amount\" name=\"transactionAmount\" rules={[{ required: true }]}>\r\n        <InputNumber style={{ width: '300px' }} />\r\n      </Form.Item>\r\n\r\n      {formValues['customerId'] && (\r\n        <Alert\r\n          style={{ width: '300px', marginBottom: '20px' }}\r\n          message={\r\n            <div>\r\n              Current reward balance{''}\r\n              <Badge\r\n                count={currentReward}\r\n                overflowCount={99999}\r\n                showZero\r\n                style={{ backgroundColor: '#e9ad03', marginLeft: '5px' }}\r\n              />\r\n            </div>\r\n          }\r\n          type=\"info\"\r\n        />\r\n      )}\r\n      <Row align=\"middle\">\r\n        <Form.Item label=\"Select % of reward points to redeem\" name=\"redeemPercent\">\r\n          <Radio.Group disabled={isRedeemed || !currentReward}>\r\n            <Radio value=\"0\">0%</Radio>\r\n            <Radio value=\"25\">25%</Radio>\r\n            <Radio value=\"50\">50%</Radio>\r\n            <Radio value=\"75\">75%</Radio>\r\n            <Radio value=\"100\">100%</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Button\r\n          type=\"link\"\r\n          disabled={\r\n            !(formValues['redeemPercent'] > 0) ||\r\n            !formValues['transactionAmount'] ||\r\n            isRedeemed ||\r\n            !currentReward\r\n          }\r\n          onClick={onUtiliseRewards}\r\n        >\r\n          Utilise Rewards\r\n        </Button>\r\n      </Row>\r\n      <Form.Item label=\"Amount redeemed\" name=\"redeemAmount\" hidden>\r\n        <InputNumber style={{ width: '300px' }} />\r\n      </Form.Item>\r\n      <Form.Item label=\"id\" name=\"id\" hidden>\r\n        <InputNumber style={{ width: '300px' }} />\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default TransactionForm;\r\n","import { Modal, Form } from 'antd';\r\nimport TransactionForm from './TransactionForm';\r\nconst AddTransactionDialog = ({\r\n  isModalVisible,\r\n  onAddTransaction,\r\n  setIsModalVisible,\r\n  customersList,\r\n  isLoading,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n  const handleCancel = () => {\r\n    form.resetFields();\r\n    setIsModalVisible(false);\r\n  };\r\n  const onSubmit = () => {\r\n    form.validateFields().then((values) => {\r\n      console.log(values);\r\n      onAddTransaction(values);\r\n      form.resetFields();\r\n      setIsModalVisible(false);\r\n    });\r\n  };\r\n  return (\r\n    <Modal\r\n      title=\"Add New Transaction\"\r\n      visible={isModalVisible}\r\n      onOk={onSubmit}\r\n      okText=\"Add\"\r\n      onCancel={handleCancel}\r\n      confirmLoading={isLoading}\r\n    >\r\n      <TransactionForm form={form} customersList={customersList} />\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddTransactionDialog;\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { Table, Input, message } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport { AuthContext } from '../../context/authContext';\r\nimport './index.css';\r\nimport LayoutWrapper from '../Layout';\r\nimport AddTransactionDialog from './AddTransactionDialog';\r\nimport { openErrorNotification, openSuccessNotification } from '../Notification';\r\n\r\n// const data = [\r\n//   {\r\n//     key: '1',\r\n//     customerId: '8724056783',\r\n//     currentReward: 3000,\r\n//     totalRewardEarned: 15000,\r\n//     lastPurchasedDate: 1638555097729,\r\n//   },\r\n//   {\r\n//     key: '2',\r\n//     customerId: '8724236383',\r\n//     currentReward: 2000,\r\n//     totalRewardEarned: 10000,\r\n//     lastPurchasedDate: 1638555097725,\r\n//   },\r\n//   {\r\n//     key: '3',\r\n//     customerId: '7734054783',\r\n//     currentReward: 1800,\r\n//     totalRewardEarned: 7000,\r\n//     lastPurchasedDate: 1638535097729,\r\n//   },\r\n//   {\r\n//     key: '4',\r\n//     customerId: '8724056785',\r\n//     currentReward: 3300,\r\n//     totalRewardEarned: 15060,\r\n//     lastPurchasedDate: 1638555097829,\r\n//   },\r\n//   {\r\n//     key: '5',\r\n//     customerId: '7724856783',\r\n//     currentReward: 560,\r\n//     totalRewardEarned: 1000,\r\n//     lastPurchasedDate: 1638555027729,\r\n//   },\r\n//   {\r\n//     key: '6',\r\n//     customerId: '6728056783',\r\n//     currentReward: 301,\r\n//     totalRewardEarned: 3400,\r\n//     lastPurchasedDate: 1638555087729,\r\n//   },\r\n//   {\r\n//     key: '7',\r\n//     customerId: '8732056783',\r\n//     currentReward: 380,\r\n//     totalRewardEarned: 1000,\r\n//     lastPurchasedDate: 1638555097729,\r\n//   },\r\n// ];\r\n\r\n// const customers = [\r\n//   {\r\n//     email: 'pling@gmail',\r\n//     id: 1,\r\n//     name: 'pling',\r\n//     phone: '9954199108',\r\n//     type: 'customer',\r\n//     reward: 100,\r\n//   },\r\n//   {\r\n//     email: 'cricket@gmail.com',\r\n//     id: 20,\r\n//     name: 'cricket@gmail.com',\r\n//     phone: '635469831245',\r\n//     type: 'Customer',\r\n//     reward: 300,\r\n//   },\r\n// ];\r\nexport default function BusinessDashboard() {\r\n  const [searchText, setSearchText] = useState('');\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [customerData, setCustomerData] = useState([]);\r\n  const [allcustomerData, setallCustomerData] = useState([]);\r\n  const [allcustomerDataMap, setallCustomerDataMap] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isTransactionLoading, setIsTransactionLoading] = useState(false);\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const id = authContext?.authState?.id;\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Customer ID',\r\n      dataIndex: 'customerId',\r\n      key: 'customerId',\r\n      render: (val) => {\r\n        return allcustomerDataMap[val]?.phone;\r\n      },\r\n    },\r\n    {\r\n      title: 'Current Reward Points',\r\n      dataIndex: 'current_reward',\r\n      key: 'current_reward',\r\n      defaultSortOrder: 'descend',\r\n      sorter: (a, b) => a.current_reward - b.current_reward,\r\n    },\r\n    {\r\n      title: 'Total Reward Earned(till date)',\r\n      key: 'total_reward_earned',\r\n      dataIndex: 'total_reward_earned',\r\n      sorter: (a, b) => a.total_reward_earned - b.total_reward_earned,\r\n    },\r\n    {\r\n      title: 'Last Purchased Date',\r\n      key: 'last_purchased_date',\r\n      dataIndex: 'last_purchased_date',\r\n      render: (val) => {\r\n        return new Date(val).toLocaleDateString();\r\n      },\r\n      sorter: (a, b) =>\r\n        new Date(a.last_purchased_date).valueOf() - new Date(b.last_purchased_date).valueOf(),\r\n    },\r\n  ];\r\n\r\n  function getcustomerData() {\r\n    return fetch(`/api/customers?business_id=${id}`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      method: 'GET',\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setCustomerData(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function getallcustomerData() {\r\n    return fetch(`/api/global_customers?business_id=${id}`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      method: 'GET',\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setallCustomerDataMap(\r\n          data.reduce((acc, item) => {\r\n            acc[item.id] = item;\r\n            return acc;\r\n          }, {}),\r\n        );\r\n        setallCustomerData(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  //add transaction API\r\n  function postTransaction(value) {\r\n    const data = {\r\n      business_id: id,\r\n      customer_id: value.id,\r\n      redeem_amount: value.redeemAmount,\r\n      transaction_amount: value.transactionAmount,\r\n    };\r\n    setIsTransactionLoading(true);\r\n    fetch('/api/add_transaction', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((res) => {\r\n        // getId();\r\n        loadData();\r\n        openSuccessNotification('Transaction added succesfully💸');\r\n        setIsModalVisible(false);\r\n      })\r\n      .catch((err) => {\r\n        openErrorNotification('Failed to add transaction, please try again🛠');\r\n      })\r\n      .finally(() => setIsTransactionLoading(false));\r\n  }\r\n  const loadData = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      await Promise.all[(getcustomerData(), getallcustomerData())];\r\n    } catch (e) {\r\n      openErrorNotification('Failed to load data, please try again');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const onSearch = (val) => {\r\n    console.log(val);\r\n    setSearchText(val);\r\n  };\r\n  const filteredData = customerData.filter((item) => {\r\n    if (searchText && searchText.trim()) {\r\n      return allcustomerDataMap[item.customerId]?.phone\r\n        .toLowerCase()\r\n        .includes(searchText.trim().toLowerCase());\r\n    }\r\n    return true;\r\n  });\r\n  return (\r\n    <>\r\n      {isModalVisible && (\r\n        <AddTransactionDialog\r\n          isModalVisible={isModalVisible}\r\n          setIsModalVisible={setIsModalVisible}\r\n          onAddTransaction={postTransaction}\r\n          customersList={allcustomerData}\r\n          isLoading={isTransactionLoading}\r\n        />\r\n      )}\r\n\r\n      <LayoutWrapper setIsTxnModalVisible={setIsModalVisible}>\r\n        <div className=\"customer-dashboard-parent\">\r\n          <div className=\"customer-parent-children\">\r\n            <Input.Search\r\n              placeholder=\"Search customers\"\r\n              allowClear\r\n              onChange={(e) => onSearch(e.target.value)}\r\n              onSearch={onSearch}\r\n              style={{ width: 185 }}\r\n            />\r\n            <Table columns={columns} dataSource={filteredData} loading={isLoading} />\r\n          </div>\r\n        </div>\r\n      </LayoutWrapper>\r\n    </>\r\n  );\r\n}\r\n","import './App.css';\r\nimport { useContext } from 'react';\r\nimport { BrowserRouter, Route, Routes, Navigate } from 'react-router-dom';\r\nimport { Empty } from 'antd' \r\nimport Home from './components/Home';\r\nimport SignUp from './components/Signup';\r\nimport Login from './components/Login';\r\nimport CustomerDashboard from './components/customer';\r\nimport BusinessDashboard from './components/business';\r\nimport { AuthProvider, AuthContext } from './context/authContext';\r\n\r\nconst AuthenticatedRoute = ({ children }) => {\r\n  const authContext = useContext(AuthContext);\r\n  if (!authContext.isAuthenticated()) {\r\n    return <Navigate to=\"/\" />;\r\n  }\r\n\r\n  return children;\r\n};\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <AuthProvider>\r\n        <Routes>\r\n          <Route exact path=\"/\" element={<Home />} />\r\n          <Route path=\"/signup\" element={<SignUp />} />\r\n\r\n          <Route path=\"/customer/login\" element={<Login />} />\r\n          <Route path=\"/business/login\" element={<Login />} />\r\n          <Route\r\n            path=\"/customer/dashboard\"\r\n            element={\r\n              <AuthenticatedRoute>\r\n                <CustomerDashboard />\r\n              </AuthenticatedRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/business/dashboard\"\r\n            element={\r\n              <AuthenticatedRoute>\r\n                <BusinessDashboard />\r\n              </AuthenticatedRoute>\r\n            }\r\n          />\r\n          <Route path=\"*\" element={<Empty style={{padding: \"200px\"}} description=\"Page Not Found\"/>} />\r\n        </Routes>\r\n      </AuthProvider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import firebase from 'firebase/compat/app';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC4gACJVYwpAqH_nOHcuuV3xj2mwiTBaBY\",\r\n    authDomain: \"ftx-shopreward.firebaseapp.com\",\r\n    projectId: \"ftx-shopreward\",\r\n    storageBucket: \"ftx-shopreward.appspot.com\",\r\n    messagingSenderId: \"545723185592\",\r\n    appId: \"1:545723185592:web:f924fd145270bb595ab74d\",\r\n    measurementId: \"G-1W8XLYEFW3\"\r\n  };\r\n\r\n  // Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconsole.log(firebase.app().options);   ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport './firebase'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}